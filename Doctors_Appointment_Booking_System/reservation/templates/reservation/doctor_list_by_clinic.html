{% extends "base.html" %}

{% block title %}پزشکان کلینیک{% endblock %}

{% block content %}
<div class="container my-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">پزشکان {{ clinic.name }}</h4>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'reservation:clinic-list' %}">تغییر کلینیک</a>
  </div>

  {% if doctors %}
  <div class="row g-3">
    {% for doc in doctors %}
    <div class="col-12 col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body d-flex gap-3 align-items-center">
          <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center" style="width:56px;height:56px;">
            <span class="text-primary fw-bold">{{ doc.user.first_name|default:doc.user.username|slice:":1" }}</span>
          </div>
          <div class="flex-grow-1">
            <h5 class="card-title mb-1">{{ doc }}</h5>
            {% if doc.get_specialties %}<div class="small text-muted mb-2">{{ doc.get_specialties }}</div>{% endif %}
            <a href="{% url 'reservation:doctor-reserve' clinic_id=clinic.id doctor_id=doc.id %}" class="btn btn-sm btn-primary">مشاهده تایم‌همممما</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="alert alert-info">برای این کلینیک پزشکی با تایم فعال یافت نشد.</div>
  {% endif %}
</div>
{% endblock %}


